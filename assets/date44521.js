import{E as x,C as A}from"../index44521.js";var v={CLICK:"click",MOUSE_DOWN:"mousedown",TOUCH_START:"touchstart"},m={PREV_SELECTOR:".flicking-arrow-prev",NEXT_SELECTOR:".flicking-arrow-next",DISABLED_CLASS:"flicking-arrow-disabled"},k=function(r,i){if(r)if(r.classList)r.classList.add(i);else{var t=r.className.split(" ");t.indexOf(i)<0&&(r.className=r.className+" "+i)}},O=function(r,i){if(r)if(r.classList)r.classList.remove(i);else{var t=new RegExp("( |^)"+i+"( |$)","g");r.className.replace(t," ")}},L=function(r,i,t){var n=i.querySelector(r);if(!n)throw new Error("[Flicking-"+t+"] Couldn't find element with the given selector: "+r);return n},V=function(){function r(t){var n=this,o=t===void 0?{}:t,s=o.parentEl,l=s===void 0?null:s,c=o.prevElSelector,d=c===void 0?m.PREV_SELECTOR:c,E=o.nextElSelector,P=E===void 0?m.NEXT_SELECTOR:E,g=o.disabledClass,w=g===void 0?m.DISABLED_CLASS:g,S=o.moveCount,T=S===void 0?1:S,b=o.moveByViewportSize,y=b===void 0?!1:b;this._flicking=null,this._preventInputPropagation=function(e){e.stopPropagation()},this._onPrevClick=function(){var e=n._flicking,a=e.camera,u=a.anchorPoints;if(!(e.animating||u.length<=0)){var h=u[0],_=n._moveCount;if(n._moveByViewportSize)e.control.moveToPosition(a.position-a.size,e.duration).catch(n._onCatch);else if(e.circularEnabled){for(var f=e.currentPanel,p=0;p<_;p++)f=f.prev();f.focus().catch(n._onCatch)}else e.index>h.panel.index?e.moveTo(Math.max(e.index-_,h.panel.index)).catch(n._onCatch):a.position>a.range.min&&e.moveTo(e.index).catch(n._onCatch)}},this._onNextClick=function(){var e=n._flicking,a=e.camera,u=a.anchorPoints;if(!(e.animating||u.length<=0)){var h=u[u.length-1],_=n._moveCount;if(n._moveByViewportSize)e.control.moveToPosition(a.position+a.size,e.duration).catch(n._onCatch);else if(e.circularEnabled){for(var f=e.currentPanel,p=0;p<_;p++)f=f.next();f.focus().catch(n._onCatch)}else e.index<h.panel.index?e.moveTo(Math.min(e.index+_,h.panel.index)).catch(n._onCatch):a.position>a.range.min&&e.moveTo(e.index).catch(n._onCatch)}},this._onAnimation=function(){var e=n._flicking,a=e.camera,u=e.control.controller;e.holding?n._updateClass(a.position):n._updateClass(u.animatingContext.end)},this._onCatch=function(e){if(!(e instanceof A))throw e},this._parentEl=l,this._prevElSelector=d,this._nextElSelector=P,this._disabledClass=w,this._moveCount=T,this._moveByViewportSize=y}var i=r.prototype;return Object.defineProperty(i,"prevEl",{get:function(){return this._prevEl},enumerable:!1,configurable:!0}),Object.defineProperty(i,"nextEl",{get:function(){return this._nextEl},enumerable:!1,configurable:!0}),Object.defineProperty(i,"parentEl",{get:function(){return this._parentEl},set:function(t){this._parentEl=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"prevElSelector",{get:function(){return this._prevElSelector},set:function(t){this._prevElSelector=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"nextElSelector",{get:function(){return this._nextElSelector},set:function(t){this._nextElSelector=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"disabledClass",{get:function(){return this._disabledClass},set:function(t){this._disabledClass=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"moveCount",{get:function(){return this._moveCount},set:function(t){this._moveCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"moveByViewportSize",{get:function(){return this._moveByViewportSize},set:function(t){this._moveByViewportSize=t},enumerable:!1,configurable:!0}),i.init=function(t){var n=this;this._flicking&&this.destroy(),this._flicking=t,t.on(x.MOVE,this._onAnimation);var o=this._parentEl?this._parentEl:t.element,s=L(this._prevElSelector,o,"Arrow"),l=L(this._nextElSelector,o,"Arrow");[v.MOUSE_DOWN,v.TOUCH_START].forEach(function(c){s.addEventListener(c,n._preventInputPropagation,{passive:!0}),l.addEventListener(c,n._preventInputPropagation,{passive:!0})}),s.addEventListener(v.CLICK,this._onPrevClick),l.addEventListener(v.CLICK,this._onNextClick),this._prevEl=s,this._nextEl=l,this.update()},i.destroy=function(){var t=this,n=this._flicking;if(n){n.off(x.MOVE,this._onAnimation);var o=this._prevEl,s=this._nextEl;[v.MOUSE_DOWN,v.TOUCH_START].forEach(function(l){o.removeEventListener(l,t._preventInputPropagation),s.removeEventListener(l,t._preventInputPropagation)}),o.removeEventListener(v.CLICK,this._onPrevClick),s.removeEventListener(v.CLICK,this._onNextClick),this._flicking=null}},i.update=function(){this._updateClass(this._flicking.camera.position)},i._updateClass=function(t){var n=this._flicking,o=this._disabledClass,s=this._prevEl,l=this._nextEl,c=n.camera.range,d=n.circularEnabled?!1:t<=c.min,E=n.circularEnabled?!1:t>=c.max;d?k(s,o):O(s,o),E?k(l,o):O(l,o)},r}();function C(){return Math.floor(Date.now())}function I(){return C()<176717886e4}function B(){return C()>=17412156e5&&C()<176717886e4}export{V as A,B as f,I as n};
