import{P as b,Q as y}from"../index49891.js";var u={CLICK:"click",MOUSE_DOWN:"mousedown",TOUCH_START:"touchstart"},m={PREV_SELECTOR:".flicking-arrow-prev",NEXT_SELECTOR:".flicking-arrow-next",DISABLED_CLASS:"flicking-arrow-disabled"},x=function(r,i){if(r)if(r.classList)r.classList.add(i);else{var t=r.className.split(" ");t.indexOf(i)<0&&(r.className=r.className+" "+i)}},O=function(r,i){if(r)if(r.classList)r.classList.remove(i);else{var t=new RegExp("( |^)"+i+"( |$)","g");r.className.replace(t," ")}},k=function(r,i,t){var n=i.querySelector(r);if(!n)throw new Error("[Flicking-"+t+"] Couldn't find element with the given selector: "+r);return n},R=function(){function r(t){var n=this,o=t===void 0?{}:t,s=o.parentEl,l=s===void 0?null:s,c=o.prevElSelector,d=c===void 0?m.PREV_SELECTOR:c,E=o.nextElSelector,L=E===void 0?m.NEXT_SELECTOR:E,C=o.disabledClass,P=C===void 0?m.DISABLED_CLASS:C,g=o.moveCount,T=g===void 0?1:g,S=o.moveByViewportSize,w=S===void 0?!1:S;this._flicking=null,this._preventInputPropagation=function(e){e.stopPropagation()},this._onPrevClick=function(){var e=n._flicking,a=e.camera,v=a.anchorPoints;if(!(e.animating||v.length<=0)){var h=v[0],_=n._moveCount;if(n._moveByViewportSize)e.control.moveToPosition(a.position-a.size,e.duration).catch(n._onCatch);else if(e.circularEnabled){for(var f=e.currentPanel,p=0;p<_;p++)f=f.prev();f.focus().catch(n._onCatch)}else e.index>h.panel.index?e.moveTo(Math.max(e.index-_,h.panel.index)).catch(n._onCatch):a.position>a.range.min&&e.moveTo(e.index).catch(n._onCatch)}},this._onNextClick=function(){var e=n._flicking,a=e.camera,v=a.anchorPoints;if(!(e.animating||v.length<=0)){var h=v[v.length-1],_=n._moveCount;if(n._moveByViewportSize)e.control.moveToPosition(a.position+a.size,e.duration).catch(n._onCatch);else if(e.circularEnabled){for(var f=e.currentPanel,p=0;p<_;p++)f=f.next();f.focus().catch(n._onCatch)}else e.index<h.panel.index?e.moveTo(Math.min(e.index+_,h.panel.index)).catch(n._onCatch):a.position>a.range.min&&e.moveTo(e.index).catch(n._onCatch)}},this._onAnimation=function(){var e=n._flicking,a=e.camera,v=e.control.controller;e.holding?n._updateClass(a.position):n._updateClass(v.animatingContext.end)},this._onCatch=function(e){if(!(e instanceof y))throw e},this._parentEl=l,this._prevElSelector=d,this._nextElSelector=L,this._disabledClass=P,this._moveCount=T,this._moveByViewportSize=w}var i=r.prototype;return Object.defineProperty(i,"prevEl",{get:function(){return this._prevEl},enumerable:!1,configurable:!0}),Object.defineProperty(i,"nextEl",{get:function(){return this._nextEl},enumerable:!1,configurable:!0}),Object.defineProperty(i,"parentEl",{get:function(){return this._parentEl},set:function(t){this._parentEl=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"prevElSelector",{get:function(){return this._prevElSelector},set:function(t){this._prevElSelector=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"nextElSelector",{get:function(){return this._nextElSelector},set:function(t){this._nextElSelector=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"disabledClass",{get:function(){return this._disabledClass},set:function(t){this._disabledClass=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"moveCount",{get:function(){return this._moveCount},set:function(t){this._moveCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"moveByViewportSize",{get:function(){return this._moveByViewportSize},set:function(t){this._moveByViewportSize=t},enumerable:!1,configurable:!0}),i.init=function(t){var n=this;this._flicking&&this.destroy(),this._flicking=t,t.on(b.MOVE,this._onAnimation);var o=this._parentEl?this._parentEl:t.element,s=k(this._prevElSelector,o,"Arrow"),l=k(this._nextElSelector,o,"Arrow");[u.MOUSE_DOWN,u.TOUCH_START].forEach(function(c){s.addEventListener(c,n._preventInputPropagation,{passive:!0}),l.addEventListener(c,n._preventInputPropagation,{passive:!0})}),s.addEventListener(u.CLICK,this._onPrevClick),l.addEventListener(u.CLICK,this._onNextClick),this._prevEl=s,this._nextEl=l,this.update()},i.destroy=function(){var t=this,n=this._flicking;if(n){n.off(b.MOVE,this._onAnimation);var o=this._prevEl,s=this._nextEl;[u.MOUSE_DOWN,u.TOUCH_START].forEach(function(l){o.removeEventListener(l,t._preventInputPropagation),s.removeEventListener(l,t._preventInputPropagation)}),o.removeEventListener(u.CLICK,this._onPrevClick),s.removeEventListener(u.CLICK,this._onNextClick),this._flicking=null}},i.update=function(){this._updateClass(this._flicking.camera.position)},i._updateClass=function(t){var n=this._flicking,o=this._disabledClass,s=this._prevEl,l=this._nextEl,c=n.camera.range,d=n.circularEnabled?!1:t<=c.min,E=n.circularEnabled?!1:t>=c.max;d?x(s,o):O(s,o),E?x(l,o):O(l,o)},r}();export{R as A};
