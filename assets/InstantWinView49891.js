import{_ as v}from"./PrizeBanner.vue_vue_type_script_setup_true_lang49891.js";import{P as x}from"./PrimaryButton49891.js";import{_ as h}from"./TextBodyLarge.vue_vue_type_script_setup_true_lang49891.js";import{s as g,v as _,f as c,y as b,l as N,d as I,c as S,g as l,h as r,w as m,t as u,_ as $,F as W,r as f,q as d,e as p,o as C}from"../index49891.js";import{a as T,A as k,s as j,h as A}from"./auth49891.js";import"./plugins.esm49891.js";import"./date49891.js";class B{static async play(){return await T("/iw/play")}}const V=g("instant_win-store",()=>{const s=_(null),o=c(()=>{var t;return(t=s.value)==null?void 0:t.prize}),n=c(()=>{var t;return(t=s.value)==null?void 0:t.win}),i=async function(){var t;try{s.value=await B.play()}catch(a){if(a instanceof k)if(a.status===422){const{lang:w}=N(),y=(t=a.response)==null?void 0:t.data.message[w.value];j({life:5e3,detail:y,styleClass:"!bg-yellow !text-black"})}else A(a);console.error(a)}},e=function(){s.value=null};return{playObj:b(s),win:n,prize:o,play:i,$reset:e}}),E={class:"flex md:items-center md:justify-center pt-6 md:pt-0 mt-[2rem] md:mt-[4rem]"},O={class:"flex md:items-center flex-col"},z={class:"md:!max-w-[800px] !mt-[0.5rem] text-left md:text-center mb-[2rem]"},F={class:"flex w-full justify-center"},J=I({__name:"InstantWinView",setup(s){const o=V(),n=_(!1),i=async function(){try{n.value=!0,await o.play();const e=o.win;e===!0?await f.push({name:d.INSTANT_WIN_WIN}):e===!1&&await f.push({name:d.INSTANT_WIN_LOSS})}catch(e){console.error(e),n.value=!1}finally{}};return(e,t)=>(C(),S(W,null,[l("div",E,[l("div",O,[r(h,{class:"md:text-center text-white"},{default:m(()=>t[1]||(t[1]=[p("Instant Win")])),_:1}),l("h1",z,u(e.$t("instant_win.click_and_discover")),1),r($,{class:"w-full md:text-center text-white font-normal md:w-[30rem]"},{default:m(()=>[p(u(e.$t("instant_win.description")),1)]),_:1}),l("div",F,[r(x,{label:e.$t("button.continue"),class:"w-full md:w-auto mt-[2rem] mb-[3rem]","surface-color":"blue",onClick:t[0]||(t[0]=a=>i()),loading:n.value},null,8,["label","loading"])])])]),r(v)],64))}});export{J as default};
